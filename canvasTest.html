<!doctype html>
<html>
    <head>
        <meta http-equiv=Content-Type content="text/html; charset=utf-8">
        <meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=1">
        <title>Canvas test</title>
        <style type="text/css">

        body{
            margin: 0;
        }

            #canvas{
                width: 95%;
                height: 500px;
                margin: 0 auto;
                padding: 0;
            }


        </style>
    </head>
    <body>

        <canvas id="canvas"></canvas>







            <script type="text/javascript">  

                var canvas = document.getElementById("canvas"),
                    sprite_sheet = new Image(),
                    curr_frame = 0,
                    raf = null,
                    frame_width = 0,
                    frame_height = 0,
                    num_frames = 10,
                    ticks = 0,
                    ticks_per_frame = 3,
                    ctx = canvas.getContext("2d");


                sprite_sheet.src = "images/coin-sprite-animation.png";
                     

                sprite_sheet.onload = function () {
                    init();
                    drawSprite();

                }


                function drawSprite() {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    ctx.drawImage(sprite_sheet, curr_frame * frame_width, 0, frame_width, frame_height, 0, 0, frame_width, frame_height);
             

                    update();
                    raf = window.requestAnimationFrame(drawSprite);

                   

                }


                function init() {
                    frame_width = sprite_sheet.width / num_frames;
                    frame_height = sprite_sheet.height;
                }
           

                function update() {

                    ticks++;

                    if (ticks >= ticks_per_frame) {
                        ticks = 0;
                        curr_frame++;

                        if (curr_frame >= num_frames) {
                            curr_frame = 0;
                        }

                    }


                }


            </script>


   </body>
</html>
